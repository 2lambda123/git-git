but-rev-list(1)
===============

NAME
----
but-rev-list - Lists cummit objects in reverse chronological order


SYNOPSIS
--------
[verse]
'but rev-list' [<options>] <cummit>... [[--] <path>...]

DESCRIPTION
-----------

:but-rev-list: 1
include::rev-list-description.txt[]

'rev-list' is a very essential Git command, since it
provides the ability to build and traverse cummit ancestry graphs. For
this reason, it has a lot of different options that enables it to be
used by commands as different as 'but bisect' and
'but repack'.

OPTIONS
-------

:but-rev-list: 1
include::rev-list-options.txt[]

include::pretty-formats.txt[]

EXAMPLES
--------

* Print the list of cummits reachable from the current branch.
+
----------
but rev-list HEAD
----------

* Print the list of cummits on this branch, but not present in the
  upstream branch.
+
----------
but rev-list @{upstream}..HEAD
----------

* Format cummits with their author and cummit message (see also the
  porcelain linkbut:but-log[1]).
+
----------
but rev-list --format=medium HEAD
----------

* Format cummits along with their diffs (see also the porcelain
  linkbut:but-log[1], which can do this in a single process).
+
----------
but rev-list HEAD |
but diff-tree --stdin --format=medium -p
----------

* Print the list of cummits on the current branch that touched any
  file in the `Documentation` directory.
+
----------
but rev-list HEAD -- Documentation/
----------

* Print the list of cummits authored by you in the past year, on
  any branch, tag, or other ref.
+
----------
but rev-list --author=you@example.com --since=1.year.ago --all
----------

* Print the list of objects reachable from the current branch (i.e., all
  cummits and the blobs and trees they contain).
+
----------
but rev-list --objects HEAD
----------

* Compare the disk size of all reachable objects, versus those
  reachable from reflogs, versus the total packed size. This can tell
  you whether running `but repack -ad` might reduce the repository size
  (by dropping unreachable objects), and whether expiring reflogs might
  help.
+
----------
# reachable objects
but rev-list --disk-usage --objects --all
# plus reflogs
but rev-list --disk-usage --objects --all --reflog
# total disk size used
du -c .but/objects/pack/*.pack .but/objects/??/*
# alternative to du: add up "size" and "size-pack" fields
but count-objects -v
----------

* Report the disk size of each branch, not including objects used by the
  current branch. This can find outliers that are contributing to a
  bloated repository size (e.g., because somebody accidentally cummitted
  large build artifacts).
+
----------
but for-each-ref --format='%(refname)' |
while read branch
do
	size=$(but rev-list --disk-usage --objects HEAD..$branch)
	echo "$size $branch"
done |
sort -n
----------

* Compare the on-disk size of branches in one group of refs, excluding
  another. If you co-mingle objects from multiple remotes in a single
  repository, this can show which remotes are contributing to the
  repository size (taking the size of `origin` as a baseline).
+
----------
but rev-list --disk-usage --objects --remotes=$suspect --not --remotes=origin
----------

BUT
---
Part of the linkbut:but[1] suite
